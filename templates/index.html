<!DOCTYPE html>
<html>
  <head>
    <title>User List</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='res/favicon.png') }}">
    <script>
      function deleteUser(userId) {
        var confirmed = confirm("Are you sure you want to delete this user?");
        if (confirmed) {
          var form = document.createElement("form");
          form.setAttribute("method", "post");
          form.setAttribute("action", "/users/delete");

          var userIdInput = document.createElement("input");
          userIdInput.setAttribute("type", "hidden");
          userIdInput.setAttribute("name", "user_id");
          userIdInput.setAttribute("value", userId);

          form.appendChild(userIdInput);
          document.body.appendChild(form);
          form.submit();
        }
      }
    </script>
  </head>
  <body>
    <a href="https://pythonpythonme.netlify.app/index.html">
    <div class="header-image">
    <img src="https://pythonpythonme.netlify.app/PythonPythonME.png" alt="Header image">
    </div>
    </a>
    <p></p>
    <p></p>
    <p></p>
    <h1>User List</h1>
    <ul>
      {% for user in users %}
      <li>
        <a href="#" onclick="deleteUser({{ user['id'] }})">
          {{ user['username'] }}
        </a>
      </li>
      {% endfor %}
    </ul>
    <form method="post" action="/users/create">
      <label for="username">New User:</label>
      <input type="text" name="username">
      <button type="submit">Add</button>
    </form>
    {% if not users %}
    <p>No users left to be deleted!</p>
    {% endif %}
    <p></p>
    <p></p>
    <p></p>
    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <h4>Anoop Johny ðŸ¤–</h4>
                </div>
            <div class="col-md-4 text-center">
                <h4>Follow Me</h4>
                <ul class="social-icons">
                    <a href="https://www.linkedin.com/in/anoop-johny-30a746181/"><img src="{{ url_for('static', filename='res/linkedin.png') }}" alt="LinkedIn"></a>
                    <a href="https://github.com/flyfir248"><img src="{{ url_for('static', filename='res/github.png') }}" alt="GitHub"></a>
                    <a href="https://pythonpythonme.netlify.app/index.html"><img src="{{ url_for('static', filename='res/web.png') }}" alt="Website"></a>
                    <a href="https://medium.com/@anoopjohny2000"><img src="{{ url_for('static', filename='res/medium.png') }}" alt="Medium"></a>
                </ul>
            </div>
        </div>
            <div class="row">
                <div class="col-md-12">
                    <p class="text-muted">Â© 2023-2024 PythonPythonME.</p>
                    <p>All rights reserved.</p>
                </div>
            </div>
        </div>
    </footer>
  </body>
</html>